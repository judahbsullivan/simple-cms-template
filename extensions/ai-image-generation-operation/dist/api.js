import{request as e,log as a}from"directus:api";var r={id:"directus-labs-ai-image-generation",handler:async({apiKey:r,prompt:t,quality:i,size:s})=>{try{const{size:a}=[{label:"square",size:"1024x1024"},{label:"portrait",size:"1024x1792"},{label:"landscape",size:"1792x1024"}].find((e=>e.label===s)),o=await e("https://api.openai.com/v1/images/generations",{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({model:"dall-e-3",n:1,prompt:t,quality:i,size:a})});if(200!==o.status)throw new Error("An error occurred when accessing OpenAI");return o.data.data[0].url}catch(e){throw a(e.message),new Error(e.message)}}};export{r as default};
